name: Integration Tests (Using Nx)
run-name: ${{ github.actor }} is running Integration Tests
on:
  push:
    branches:
      - feature/magento-setup*
#      - nx-integration-tests

  pull_request:
    branches:
      - 2.4-develop
      - nx-integration-tests
#      - feature/magento-setup*

permissions:
  contents: write

jobs:
  call-workflow:
    name: calling nx integration tests
    uses: adamzero1/mageos-github-actions/.github/workflows/nx-integration-tests.yml@main
    secrets: inherit
    with:
      repository: ${{ github.repository }}
      pr_head: ${{ github.event.pull_request.head.sha }}
      pr_base: ${{ github.event.pull_request.base.ref }}

  # integration-tests:
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Inte tests
  #       uses: adamzero1/mageos-github-actions/integration-tests/nx@main
  #       with:
  #         repository: ${{ github.repository }}
  #         pr_head: ${{ github.event.pull_request.head.sha }}
  #         pr_base: ${{ github.event.pull_request.base.ref }}